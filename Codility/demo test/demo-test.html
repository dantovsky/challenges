<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codility » Demo Test</title>
</head>

<body>
    <h1>Codility » Demo Test</h1>
    <!-- https://app.codility.com/c/run/demoKFDTGX-ZHS/ -->
    <!-- https://stackoverflow.com/questions/51719848/find-the-smallest-positive-integer-that-does-not-occur-in-a-given-sequence -->

    <script>
        function solution(A) {
            // write your code in JavaScript (Node.js 8.9.4)
            // let num = null;

            console.log('\nArray: ', A)

            // const len = A.length
            let min = 1

            // Removing negative numbers
            A = A.filter(x => x > 0)
            console.log('Filter: ', A)
            
            // Revoving duplicates and sort array
            const len = A.length
            
            if (len > 1) {
                A = new Array(...new Set(A)).sort((a, b) => a - b)
            }
            console.log('Array(set): ', A)

            if (len === 0 || (len === 1 && A[0] > 1)) {
                return 1
            }

            for (let i = 0; i < len; i++) {

                if (min < A[i]) {
                    return min
                }
                min = A[i] + 1
            }
            return min

            // Task Score: 88%; Correctness: 100%; Performance: 75%
            // https://app.codility.com/demo/results/demoDJGXUD-JD9/
            
            /*
            medium
            chaotic sequences length=10005 (with minus)
            
            ✘RUNTIME ERROR
            tested program terminated with exit code 1
            
                1.0.096 sOK
                2.0.092 sRUNTIME ERROR, tested program terminated with exit code 1
                stderr:
                Invalid result type, integer expected, non-integer number found
                3.0.116 sOK
            */
        }

        let n = solution([1, 3, 6, 4, 1, 2]) // expected 5
        console.log('Res: ', n)

        n = solution([1, 2, 3]) // expected 4
        console.log('Res: ', n)

        n = solution([-1, -3]) // expected 1
        console.log('Res: ', n)

        n = solution([]) // expected 1
        console.log('Res: ', n)

        n = solution([2]) // expected 
        console.log('Res: ', n)

        // Find the smallest positive integer that does not occur in a given sequence.
            // Task Score: 55%; Correctness: 80%; Performance: 25%
        // https://app.codility.com/demo/results/demoKFDTGX-ZHS/
        /*
        Solução enviada::

        function solution(A) {
            // write your code in JavaScript (Node.js 8.9.4)
            let num = null;
            for (let i = 1; i < A.length; i++) {
                console.log(A[i])
                if (!A.includes(i)) {
                    num = i
                    break
                }
            }
            return !num ? A.length + 1 : num
        }
        */
    </script>
</body>

</html>